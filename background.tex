\documentclass[master.tex]{subfiles}

\begin{document}

\section*{A. Scientific Premise}

It has been found in mice that two contextual memories for events that happened
close in time can be linked together. This was evidenced by the ensembles of the
two memories sharing a larger proportion of overlapping neurons in the
hippocampus, and fear conditioning in one of the contexts resulting in freezing
behavior in the other \cite{cai_shared_2016}. However, the temporal window for
memory linking, as well as the neuronal basis of this phenomenon remains
under--studied.


\section*{B. Background and Significance}

Understanding how distinct memories can be related together is essential to
understanding episodic memory, since memories for individual events can only be
understood in the framework of one's collective experience. It is generally
believed that different memories are encoded with different populations of
neurons, which are reactivated during memory retrieval
\cite{tayler_reactivation_2013}. Such a specific population of neurons are
termed the ensemble of said memory. Indeed, it has been found that artificially
stimulating an ensemble is sufficient to drive the retrieval of the memory and
elicit the associated behavioral response (\textit{e.g.} freezing)
\cite{ramirez_creating_2013}. Thus, it can be speculated that two distinct
memories can be associated together by sharing a proportion of neurons that is
common to both ensembles, so that activation of one ensemble might trigger the
activation of the other as well, potentially through a pattern completion
mechanism. Consistent with this idea, it has been found that two types of
aversive memories can be associated together by repeatedly presenting the
stimuli that triggers each of them at the same time
\cite{yokose_overlapping_2017}. Importantly, the overlap between amygdala
ensembles encoding the two aversive memories is larger than those in a control
group that did not undergo the paired presentation of stimuli. Moreover,
artificially suppressing the activity of the amygdala neuron population shared
between the two ensembles disrupted the behavioral association between the two
aversive memories, without affecting the independent recall of each of them
\cite{yokose_overlapping_2017}. Besides explicit pairing of two memories by
triggering the recall of them at the same time, it has also been found that two
fear memories can be associated together if they are encoded close in time.
Specifically, two auditory fear conditioning memories can be associated together
if they are encoded within 6 hours, but not when they are separated by 24 hours.
Consistent with previous findings, the amygdala ensembles of the two memories
that were associated together had a higher proportion of overlap
\cite{rashid_competition_2016}. It has been hypothesized that such a
time-dependent association of different memories is mediated by an
excitability-based memory allocation mechanism: Neurons encoding an earlier
memory sustain an elevated level of excitability for certain period of time,
thus biasing the allocation of a later memory towards the same population of
neurons, resulting in an increase in overlap of the ensembles of the two
memories \cite{lisman_memory_2018, yiu_neurons_2014, zhou_creb_2009}. Indeed, it
has been found that artificially manipulating the amygdala neurons encoding one
memory can bidirectionally bias the allocation of cells to a second memory and
either rescue or disrupt the association between the two memories
\cite{rashid_competition_2016}. Taken together, these studies suggest that
aversive memories can be associated together in a time-dependent manner. It was
unknown, however, whether such association can occur naturally with memories
that have neutral emotional valence, which is key to the question of how
episodes of memories that does not have negative emotional valence can be linked
together.

Recently, it was found in the rodent hippocampus that the neuronal ensembles of
two neutral contextual memories separated by 5 hours have greater overlap than
those separated by 2 days or 7 days. Moreover, subsequent fear conditioning in
the latter of the two contexts initially experienced promotes elevated freezing
levels in both that context and the linked context. Such results suggest a
linking of two temporally distinct memories through overlapping neuronal
ensembles. This phenomenon has been termed memory linking
\cite{cai_shared_2016}.

How might neutral contextual memories experienced closer in time come to share
greater overlapping hippocampal ensemble? It has been found that the
representation of a familiar environment in the rodent hippocampus drifts across
time, such that the similarity between ensembles for the same environment at
different times decays as a function of temporal distance
\cite{mankin_neuronal_2012, ziv_long-term_2013-1}. Such drift may reflect
spontaneous turn--over of neural ensembles, which, when combined with the memory
allocation hypothesis, could serve as a potential explanation of the phenomenon
of memory linking. If two memories happen close in time so that when the second
memory happens, neurons encoding the first memory still have elevated
excitability, the two memories will have larger overlap in ensembles since the
allocation of the second memory is biased towards the same neurons encoding the
first memory. If, however, the two memories are separated by a large time
interval, so that the excitability of neurons encoding the first memory return
to baseline before the second memory happens, the two memories will have chance
level overlap in ensembles due to spontaneous turn--over of ensembles over time.
Taken together, these results suggest that neutral memories can be linked in a
time-dependent manner, possibly mediated by a spontaneous drift of ensembles and
a memory allocation mechanism.

However, the temporal window of memory linking, which is the maximum time
interval within which two memories can be linked together, remains
under--studied. This question is important since it is closely related to the
ethological implication of memory linking --- It can be speculated that memory
linking may play a role in learning the relationships between memory episodes,
and the temporal window of memory linking reflects how much information is
gathered to form relational memories for a specific episode. One of the most
important relationship between memory episodes is causal relationship, where
linking an aversive experience with an earlier experience may help the animal
learn the causal relationship between events and avoid future aversive events.
An important example is conditioned taste aversion (CTA), where the animals
learn to associate sickness with the consumption of food several hours earlier,
a period much longer than most stimulus--food associations
\cite{garcia_conditioned_1955}. In addition to highlighting the important
biological function of linking events disparate in time, this example also
highlights the predictive nature such associations can serve --- CTA
specifically ties sickness with stimuli experienced prior to sickness. Thus,
retrospective memory linking, where an animal links an aversive experience with
a memory of a previously experienced neutral context, should be more
important than prospective memory linking, where an animal links an aversive
experience with a neutral contextual memory that happens later in time.
Specifically, the temporal window of memory linking should be longer for
retrospective memory linking than for prospective memory linking, since it helps
the animal to gather more information about the potential cause of the aversive
event. However, the allocation hypothesis would predict the opposite. Since it
has been shown that memories with negative valence increase neuron excitability
\cite{mckay_intrinsic_2009, rashid_competition_2016}, it is expected that
neurons engaged in a negative memory sustain an elevated level of excitability
longer than those in a neutral memory. Thus, for a negative memory, the
allocation hypothesis would predict a longer temporal window for prospective
memory linking compared to retrospective memory linking. In order to study the
temporal window of prospective and retrospective memory linking, we have carried
out preliminary behavior studies. The results suggest a longer temporal window
for retrospective memory linking than for prospective memory linking. Thus, we
hypothesize that retrospective memory linking has a longer temporal window than
prospective memory linking.

Moreover, it is unclear how memory linking happens. As mentioned before, we have
ethological speculations and preliminary data that cannot be fully addressed by
the memory allocation hypothesis. We will focus on studying the mechanism of
memory linking from a neural coding perspective. Specifically, we will focus on
studying the neural correlates and ensemble dynamics of memory linking. Firstly,
we have preliminary data suggesting that the increase in overlap of hippocampal
ensembles emerges after the encoding of the two memories, which is contrary to
what the allocation hypothesis would predict. To confirm this observation, we
will compare the ensembles for each memory during encoding and retrieval to see
whether there is a change after encoding. We will also compare the ensembles of
one memory during encoding to the other during retrieval to see whether memory
ensembles are becoming more similar to each other. Secondly, one of the most
important neural correlates of memory linking is the ensemble overlap between
the linked memories, since it has been shown that manipulating this overlapping
population of neurons directly and specifically affects memory linking
\cite{yokose_overlapping_2017}. However, it is unclear how each memory
contribute to the overlap. Thus, we will test whether the neurons engaged in the
encoding sessions of each memory contribute equally to the overlap of ensembles
during retrieval. Lastly, the allocation hypothesis predict that the activity
level of a neuron during the encoding of the first memory should determine the
likelihood of the said neuron being allocated to the second memory. However,
this correlation has never been explicitly tested in previous memory linking
studies. Thus, we will test whether the mean activity level during the encoding
of the first memory differs for the neurons that are allocated to the second
memories from those that are not. Taken together, these studies will give us
more insight into how memory linking happens on a neural ensemble level.

Lastly, calcium imaging with miniature microscope in behaving animals is an
important tool to study the neuronal dynamics in memory linking studies, due to
its capability to track large populations of neurons across long periods of
time. However, one of the challenges facing this technique is the analysis of
imaging data. Specifically, extracting calcium traces of individual neurons from
raw video is a difficult problem. Several approaches have been developed to
address this difficulty. Most notably, a variant of the constrained
non--negative matrix factorization (CNMF) algorithm has been shown to work well
on calcium imaging data with miniature microscopes
\cite{pnevmatikakis_simultaneous_2016, zhou_efficient_2016}. However, in
practice, the accessibility and efficiency of such approaches has been limited
for several reasons:
\begin{inparaenum}[a)]
\item The effect of different parameters in the mathematical model and the
  complications introduced by performance optimization of the code can be hard
  to comprehend for researchers without a mathematical or programming
  background.
\item Lack of a pre--processing pipeline that specifically addresses various
  artifacts usually observed in miniature microscope data requires the user to
  either rely on other software to conduct pre--processing steps or modify the
  existing code to extend its functionality.
\item Lack of visualization tools at each step of analysis makes it hard for the
  researchers to check the quality of result. This is a significant issue
  especially since there are many detailed parameters that may have a huge
  effect on the final output of the CNMF algorithm.
\item The lack of a batch-processing pipeline, as well as an easy way to
  visualize the results across multiple datasets, limits the applicability of
  the algorithm to the analysis of large scale experiments.
\end{inparaenum}
Thus, to address these difficulties, we will develop an analysis pipeline that
provides a user--friendly interface to the CNMF algorithm, and provides
visualization tools as well as batch-processing capability, integrated into a
single analysis package.

\end{document}
